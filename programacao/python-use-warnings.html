<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Python: Use Warnings! | Arruda
</title>
  <link rel="canonical" href="https://arruda.github.io/programacao/python-use-warnings.html">

    <link rel="apple-touch-icon" href="https://arruda.github.io/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" type="image/png" href="https://arruda.github.io/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://arruda.github.io/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="https://arruda.github.io/manifest.json">
    <meta name="theme-color" content="#333333">

  <link rel="stylesheet" href="https://arruda.github.io/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://arruda.github.io/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://arruda.github.io/theme/css/pygments/monokai.min.css">
  <link rel="stylesheet" href="https://arruda.github.io/theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="https://arruda.github.io/feeds/all.atom.xml">
  
  <meta name="description" content="Have you ever confronted a code like this: ``` {lang="python"} shouldn't use this function anymore! Now use XYZ! def some_old_function(arg1,arg2): return arg1 + arg2 This is something that I see too often, and this could be done better. :${IMAGE_TAG} Warnings -------- There is something in python called **warnings**, and guess …">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="https://arruda.github.io/">
        <img class="img-fluid rounded" src=https://arruda.github.io/images/logo.png alt="Arruda">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="https://arruda.github.io/">Arruda</a></h1>
      <p class="text-muted">Um Blog Sobre Tecnologia, Informação, Literatura e Coisas da Vida</p>
      <ul class="list-inline">
            <li class="list-inline-item"><a href="https://arruda.github.io/pages/projetos.html">Projetos</a></li>
            <li class="list-inline-item"><a href="https://arruda.github.io/pages/sobre.html">Sobre</a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Python: Use Warnings!
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2013-10-17T10:13:00+01:00">
          <i class="fa fa-clock-o"></i>
          Thu 17 October 2013
        </li>
        <li class="list-inline-item">
          <i class="fa fa-folder-open-o"></i>
          <a href="https://arruda.github.io/category/programacao.html">programação</a>
        </li>
          <li class="list-inline-item">
            <i class="fa fa-user-o"></i>
              <a href="https://arruda.github.io/author/arruda.html">arruda</a>          </li>
          <li class="list-inline-item">
            <i class="fa fa-files-o"></i>
              <a href="https://arruda.github.io/tag/deprecated.html">#deprecated</a>,               <a href="https://arruda.github.io/tag/example.html">#example</a>,               <a href="https://arruda.github.io/tag/future.html">#future</a>,               <a href="https://arruda.github.io/tag/import.html">#import</a>,               <a href="https://arruda.github.io/tag/python.html">#python</a>,               <a href="https://arruda.github.io/tag/runtime.html">#runtime</a>,               <a href="https://arruda.github.io/tag/syntax.html">#syntax</a>,               <a href="https://arruda.github.io/tag/use.html">#use</a>,               <a href="https://arruda.github.io/tag/warning.html">#warning</a>          </li>
      </ul>
    </header>
    <div class="content">
      <p>Have you ever confronted a code like this:</p>
<p>``` {lang="python"}</p>
<h1>shouldn't use this function anymore! Now use XYZ!</h1>
<p>def some_old_function(arg1,arg2):
    return arg1 + arg2</p>
<div class="highlight"><pre><span></span><span class="n">This</span> <span class="ow">is</span> <span class="n">something</span> <span class="n">that</span> <span class="n">I</span> <span class="n">see</span> <span class="n">too</span> <span class="n">often</span><span class="p">,</span> <span class="ow">and</span> <span class="n">this</span> <span class="n">could</span> <span class="n">be</span> <span class="n">done</span> <span class="n">better</span><span class="o">.</span>
<span class="p">:</span><span class="err">$</span><span class="p">{</span><span class="n">IMAGE_TAG</span><span class="p">}</span>

<span class="n">Warnings</span>
<span class="o">--------</span>

<span class="n">There</span> <span class="ow">is</span> <span class="n">something</span> <span class="ow">in</span> <span class="n">python</span> <span class="n">called</span> <span class="o">**</span><span class="n">warnings</span><span class="o">**</span><span class="p">,</span> <span class="ow">and</span> <span class="n">guess</span> <span class="n">what</span><span class="err">?</span> <span class="n">The</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">very</span> <span class="n">intuitive</span><span class="p">,</span> <span class="n">they</span> <span class="n">warn</span> <span class="n">about</span> <span class="n">something</span><span class="p">,</span> <span class="n">kind</span> <span class="n">like</span> <span class="n">an</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">but</span> <span class="n">they</span> <span class="n">just</span> <span class="n">warn</span> <span class="n">you</span><span class="o">...</span>

<span class="n">There</span> <span class="n">are</span> <span class="n">some</span> <span class="n">types</span> <span class="n">of</span> <span class="n">warnings</span><span class="p">,</span> <span class="n">the</span> <span class="n">example</span> <span class="n">above</span> <span class="n">could</span> <span class="n">be</span> <span class="n">rewritten</span> <span class="k">as</span> <span class="n">follows</span><span class="p">:</span>

<span class="sb">``</span><span class="err">`</span> <span class="p">{</span><span class="n">lang</span><span class="o">=</span><span class="s2">"python"</span><span class="p">}</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># shouldn't use this anymore!</span>
<span class="k">def</span> <span class="nf">some_old_function</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="n">arg2</span><span class="p">):</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">"shouldn't use this function anymore! Now use XYZ."</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span>
</pre></div>
<p>This way, when this function is called (maybe there was a piece of the code that hadn't got refactored and you missed it)
you'll get the warning in the sys.stderr (by default, but in some cases you can change this to another output).</p>
<p>You might be asking: <strong>"Why the hell won't you just delete this function?"</strong>
Well, because in some cases you just can't be sure that this function isn't been called by someone else in the project, sometimes you're in the middle of a large refactoring that is going on slowly.</p>
<h3>Other Warning Types</h3>
<p>Here are other useful warning types:</p>
<h4>SyntaxWarning</h4>
<p>This is a warning about dubious syntactic features, for example:</p>
<p>``` {lang="python"}
import warnings</p>
<p>def some_function(arg1,arg2):</p>
<div class="highlight"><pre><span></span><span class="err"># Not sure if this is the best approach for this case, maybe should do arg1 - arg2...</span>
<span class="err">warnings.warn(</span>
<span class="err">    "Should confirm what's the best approach for some_function",</span>
<span class="err">    SyntaxWarning</span>
<span class="err">)</span>
<span class="err">return arg1 + arg2</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">way</span> <span class="k">if</span> <span class="n">you</span> <span class="n">somehow</span> <span class="n">forgot</span> <span class="n">about</span> <span class="n">this</span> <span class="n">dubious</span> <span class="n">syntax</span><span class="p">,</span> <span class="n">the</span> <span class="n">warning</span> <span class="n">will</span> <span class="n">remind</span> <span class="n">you</span> <span class="n">of</span> <span class="n">it</span><span class="o">.</span>

<span class="c1">#### RuntimeWarning</span>

<span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">warning</span> <span class="n">about</span> <span class="n">dubious</span> <span class="n">runtime</span> <span class="n">features</span><span class="p">,</span> <span class="k">for</span> <span class="n">example</span><span class="p">:</span>

<span class="sb">``</span><span class="err">`</span> <span class="p">{</span><span class="n">lang</span><span class="o">=</span><span class="s2">"python"</span><span class="p">}</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="k">def</span> <span class="nf">some_function</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="n">position</span><span class="p">):</span>

    <span class="c1"># better verify if I can access array[position] first</span>
    <span class="k">if</span> <span class="n">position</span> <span class="o">&lt;</span> <span class="n">array</span><span class="o">.</span><span class="n">lenght</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">array</span><span class="p">[</span><span class="n">position</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">"Tried to access a position that doesn't exist in array inside some_function."</span>
            <span class="p">,</span><span class="ne">RuntimeWarning</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
</pre></div>
<h4>FutureWarning</h4>
<p>This is a warning about constructs that will change semantically in the future, for example:</p>
<p>``` {lang="python"}
import warnings</p>
<h1>Probably there will be another arg in the future in this function</h1>
<p>def some_function(arg1,arg2):
    warnings.warn(
        "Lookout! In the future there will be an arg3 argument for some_function",
        FutureWarning
    )
    return arg1 + arg2</p>
<div class="highlight"><pre><span></span><span class="n">So</span> <span class="k">if</span> <span class="n">you</span><span class="s1">'re planning to change the constructor then it'</span><span class="n">s</span> <span class="n">a</span> <span class="n">good</span> <span class="n">idea</span> <span class="n">to</span> <span class="n">put</span> <span class="n">one</span> <span class="n">of</span> <span class="n">these</span><span class="o">.</span>

<span class="c1">#### ImportWarning</span>

<span class="n">For</span> <span class="n">warnings</span> <span class="n">during</span> <span class="n">the</span> <span class="n">process</span> <span class="n">of</span> <span class="n">importing</span> <span class="n">a</span> <span class="n">module</span>
<span class="o">**</span>
<span class="n">dont</span>\<span class="n">_use</span>\<span class="n">_this</span>\<span class="n">_module</span><span class="o">.</span><span class="n">py</span><span class="o">**</span><span class="p">:</span>

<span class="sb">``</span><span class="err">`</span> <span class="p">{</span><span class="n">lang</span><span class="o">=</span><span class="s2">"python"</span><span class="p">}</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># this module shouldt be imported, please... don't use it...</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
   <span class="s2">"Please, don't import the module 'dont_use_this_module'."</span><span class="p">,</span>
    <span class="ne">ImportWarning</span>
<span class="p">)</span>
</pre></div>
<p>This warning will be sent if anyone try:</p>
<p>``` {lang="python"}
import dont_use_this_module</p>
<div class="highlight"><pre><span></span><span class="o">.</span>

<span class="c1">#### PendingDeprecationWarning</span>

<span class="n">Very</span> <span class="n">similar</span> <span class="n">to</span> <span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">but</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">case</span> <span class="n">the</span> <span class="n">feature</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">yet</span> <span class="n">deprecated</span><span class="p">,</span>
<span class="n">but</span> <span class="n">soon</span> <span class="p">(</span><span class="n">maybe</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">version</span> <span class="n">of</span> <span class="n">the</span> <span class="n">project</span><span class="p">)</span> <span class="n">will</span><span class="o">.</span>

<span class="sb">``</span><span class="err">`</span> <span class="p">{</span><span class="n">lang</span><span class="o">=</span><span class="s2">"python"</span><span class="p">}</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># shouldn't use this anymore!</span>
<span class="c1"># in version 2.1 and above this will be deprecated</span>
<span class="k">def</span> <span class="nf">some_almost_old_function</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="n">arg2</span><span class="p">):</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">"Shouldn't use this function anymore! It will be deprecated in version 2.1. Use function 'xyz' instead"</span><span class="p">,</span>
        <span class="ne">PendingDeprecationWarning</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span>
</pre></div>
<p>That's all, if you want to know more about warnings you can read the docs here: <a href="http://docs.python.org/2/library/warnings.html" title="Python Warnings Doc">Python Warnings Doc</a>.</p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
      <li class="list-inline-item"><a href="https://arruda.github.io/authors.html">Authors</a></li>
    <li class="list-inline-item"><a href="https://arruda.github.io/archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="https://arruda.github.io/categories.html">Categories</a></li>
      <li class="list-inline-item"><a href="https://arruda.github.io/tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>
</body>

</html>